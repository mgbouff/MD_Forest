---
title: "Tabulated Tree Cover"
author: "Marie Bouffard"
date: "11/16/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
```

```{r}
# Attach packages
library(tidyverse)
library(readxl)
library(janitor)

# Read in State data
state_tab <- read_excel("tabulated_forest.xlsx", sheet = 1)

# Read in County data
county_tab <- read_excel("tabulated_forest.xlsx", sheet = 2)
```
### Forested Area at the State Level
```{r}
#---------------------------------------
# Maryland Statewide Tabulated Forest Cover
#---------------------------------------

# Wrangle state data (tidy, get rid of non-forested, convert to acres)
state_clean <- state_tab %>% 
  clean_names()%>% 
  filter(reclassified_value == "1") %>%
  select(year:area_m, -reclassified_value) %>% 
  mutate(acres = area_m*0.000247105)

# Plot totals over time
ggplot(data = state_clean, aes(x = year, y = acres))+
  geom_line(color = "seagreen4", size = 2)+
    labs(x = "Year",
       y = "Acres of Forest",
       title = "Forested acres in the state of Maryland") +
  theme_minimal()

# State change between time periods
state_change <- state_clean %>% 
  mutate(year_diff = acres - lag(acres))

# Plot difference between time periods
ggplot(data = state_change, aes(x = year, y = year_diff))+
  geom_col(fill = "seagreen4")+
  scale_x_continuous(breaks = c(2000, 2005, 2010, 2015),
    labels = c("2000-2005","2005-2010","2010-2015","2015-2020"))+
    labs(x = "Time Period",
       y = "Change in Total Acreage",
       title = "Change in Maryland forested acres\nbetween 5 year time periods from 2000 to 2020") +
  scale_y_continuous(limits=c(-30000,5000))+
  geom_hline(aes(yintercept=0))+
    geom_vline(aes(xintercept=1997))+
  theme_minimal()

```
### Forested Area at the County Level
```{r}
#---------------------------------------
# Tabulated Forest Cover by county
#---------------------------------------

# Wrangle county data (convert to tidy format, convert to acres)
county_clean <- county_tab %>% 
  clean_names()